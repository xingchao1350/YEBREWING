<div class="card">
    <div class="card-header">
        <h2>媒体资源</h2>
    </div>
    <div class="card-body">
        <div class="resources-container">
            <div class="resources-header">
                <div class="resources-actions">
                    <button class="btn"><i class="fas fa-upload"></i> 上传媒体</button>
                    <select class="media-type-filter">
                        <option>全部类型</option>
                        <option>图片</option>
                        <option>视频</option>
                        <option>音频</option>
                        <option>其他</option>
                    </select>
                    <select class="media-tag-filter">
                        <option>全部标签</option>
                        <option>产品展示</option>
                        <option>活动宣传</option>
                        <option>店面环境</option>
                        <option>品牌素材</option>
                        <option>社交媒体</option>
                    </select>
                </div>
                <div class="resources-search">
                    <input type="text" placeholder="搜索媒体资源..." class="search-input">
                    <button class="btn btn-icon"><i class="fas fa-search"></i></button>
                </div>
            </div>
            
            <div class="media-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-image"></i></div>
                    <div class="stat-info">
                        <h3>图片</h3>
                        <p>128 个文件</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-video"></i></div>
                    <div class="stat-info">
                        <h3>视频</h3>
                        <p>36 个文件</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-music"></i></div>
                    <div class="stat-info">
                        <h3>音频</h3>
                        <p>24 个文件</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-file-alt"></i></div>
                    <div class="stat-info">
                        <h3>其他</h3>
                        <p>12 个文件</p>
                    </div>
                </div>
            </div>
            
            <div class="media-categories">
                <h3>媒体分类</h3>
                <div class="category-tabs">
                    <div class="category-tab active" data-category="all">全部</div>
                    <div class="category-tab" data-category="recent">最近上传</div>
                    <div class="category-tab" data-category="favorite">收藏</div>
                    <div class="category-tab" data-category="product">产品展示</div>
                    <div class="category-tab" data-category="event">活动宣传</div>
                </div>
            </div>
            
            <div class="media-gallery">
                <div class="media-item">
                    <div class="media-preview">
                        <img src="assets/media/product-1.jpg" alt="产品图片1">
                        <div class="media-type"><i class="fas fa-image"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>精酿啤酒展示图</h4>
                        <p>上传于: 2023-06-15</p>
                        <div class="media-tags">
                            <span class="tag">产品展示</span>
                            <span class="tag">社交媒体</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="media-preview">
                        <img src="assets/media/event-1.jpg" alt="活动图片1">
                        <div class="media-type"><i class="fas fa-image"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>啤酒品鉴会海报</h4>
                        <p>上传于: 2023-06-14</p>
                        <div class="media-tags">
                            <span class="tag">活动宣传</span>
                            <span class="tag">社交媒体</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="media-preview video-preview">
                        <img src="assets/media/video-1.jpg" alt="视频缩略图1">
                        <div class="media-type"><i class="fas fa-video"></i></div>
                        <div class="play-button"><i class="fas fa-play"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>酿造过程视频</h4>
                        <p>上传于: 2023-06-13</p>
                        <div class="media-tags">
                            <span class="tag">产品展示</span>
                            <span class="tag">品牌素材</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="media-preview">
                        <img src="assets/media/store-1.jpg" alt="店面图片1">
                        <div class="media-type"><i class="fas fa-image"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>东四咖啡店面照片</h4>
                        <p>上传于: 2023-06-12</p>
                        <div class="media-tags">
                            <span class="tag">店面环境</span>
                            <span class="tag">品牌素材</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="media-preview audio-preview">
                        <div class="audio-waveform">
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                            <div class="waveform-bar"></div>
                        </div>
                        <div class="media-type"><i class="fas fa-music"></i></div>
                        <div class="play-button"><i class="fas fa-play"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>店内背景音乐</h4>
                        <p>上传于: 2023-06-11</p>
                        <div class="media-tags">
                            <span class="tag">店面环境</span>
                            <span class="tag">品牌素材</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
                <div class="media-item">
                    <div class="media-preview">
                        <img src="assets/media/product-2.jpg" alt="产品图片2">
                        <div class="media-type"><i class="fas fa-image"></i></div>
                    </div>
                    <div class="media-info">
                        <h4>鸡尾酒系列展示</h4>
                        <p>上传于: 2023-06-10</p>
                        <div class="media-tags">
                            <span class="tag">产品展示</span>
                            <span class="tag">社交媒体</span>
                        </div>
                        <div class="media-actions">
                            <button class="btn-icon small"><i class="fas fa-download"></i></button>
                            <button class="btn-icon small"><i class="far fa-star"></i></button>
                            <button class="btn-icon small"><i class="fas fa-ellipsis-h"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="media-pagination">
                <button class="btn-icon small"><i class="fas fa-chevron-left"></i></button>
                <span class="page-info">第1页，共5页</span>
                <button class="btn-icon small"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </div>
</div>

<script>
    // 当子模块加载完成后执行
    console.log('Resources Media 子模块加载完成');
    
    // 为上传媒体按钮添加事件
    document.querySelector('.resources-actions .btn').addEventListener('click', function() {
        console.log('点击上传媒体按钮');
        alert('上传新媒体资源');
    });
    
    // 为媒体类型筛选器添加事件
    document.querySelector('.media-type-filter').addEventListener('change', function() {
        const mediaType = this.value;
        console.log('筛选媒体类型:', mediaType);
        alert('筛选媒体类型: ' + mediaType);
    });
    
    // 为媒体标签筛选器添加事件
    document.querySelector('.media-tag-filter').addEventListener('change', function() {
        const mediaTag = this.value;
        console.log('筛选媒体标签:', mediaTag);
        alert('筛选媒体标签: ' + mediaTag);
    });
    
    // 为分类标签添加事件
    document.querySelectorAll('.category-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            // 移除所有标签的active类
            document.querySelectorAll('.category-tab').forEach(t => {
                t.classList.remove('active');
            });
            
            // 为当前标签添加active类
            this.classList.add('active');
            
            const category = this.dataset.category;
            console.log('选择媒体分类:', category);
            alert('选择媒体分类: ' + category);
        });
    });
    
    // 为下载按钮添加事件
    document.querySelectorAll('.media-actions .fa-download').forEach(icon => {
        icon.parentElement.addEventListener('click', function() {
            const mediaItem = this.closest('.media-item');
            const mediaTitle = mediaItem.querySelector('h4').textContent;
            console.log('下载媒体:', mediaTitle);
            alert('下载媒体: ' + mediaTitle);
        });
    });
    
    // 为收藏按钮添加事件
    document.querySelectorAll('.media-actions .fa-star').forEach(icon => {
        icon.parentElement.addEventListener('click', function() {
            const mediaItem = this.closest('.media-item');
            const mediaTitle = mediaItem.querySelector('h4').textContent;
            console.log('收藏媒体:', mediaTitle);
            
            // 切换收藏状态
            if (icon.classList.contains('far')) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                alert('已收藏: ' + mediaTitle);
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                alert('取消收藏: ' + mediaTitle);
            }
        });
    });
    
    // 为更多操作按钮添加事件
    document.querySelectorAll('.media-actions .fa-ellipsis-h').forEach(icon => {
        icon.parentElement.addEventListener('click', function() {
            const mediaItem = this.closest('.media-item');
            const mediaTitle = mediaItem.querySelector('h4').textContent;
            console.log('更多操作:', mediaTitle);
            
            // 显示操作菜单（这里简化为弹窗）
            const options = ['编辑信息', '分享', '删除', '添加标签'];
            const option = prompt('选择操作:\n1. 编辑信息\n2. 分享\n3. 删除\n4. 添加标签', '1');
            
            if (option) {
                const index = parseInt(option) - 1;
                if (index >= 0 && index < options.length) {
                    alert(options[index] + ': ' + mediaTitle);
                }
            }
        });
    });
    
    // 为播放按钮添加事件
    document.querySelectorAll('.play-button').forEach(button => {
        button.addEventListener('click', function() {
            const mediaItem = this.closest('.media-item');
            const mediaTitle = mediaItem.querySelector('h4').textContent;
            const mediaType = mediaItem.querySelector('.media-type i').classList.contains('fa-video') ? '视频' : '音频';
            console.log('播放' + mediaType + ':', mediaTitle);
            alert('播放' + mediaType + ': ' + mediaTitle);
        });
    });
    
    // 为搜索按钮添加事件
    document.querySelector('.resources-search .btn-icon').addEventListener('click', function() {
        performSearch();
    });
    
    // 为搜索输入框添加回车事件
    document.querySelector('.resources-search .search-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            performSearch();
        }
    });
    
    // 搜索功能
    function performSearch() {
        const searchInput = document.querySelector('.resources-search .search-input');
        const searchTerm = searchInput.value.trim();
        if (searchTerm) {
            console.log('搜索媒体资源:', searchTerm);
            alert('搜索媒体资源: ' + searchTerm);
        } else {
            alert('请输入搜索关键词');
        }
    }
</script>

<style>
    .resources-container {
        padding: 0;
    }
    
    .resources-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    
    .resources-actions {
        display: flex;
        gap: 10px;
    }
    
    .resources-search {
        display: flex;
        gap: 5px;
    }
    
    .search-input {
        padding: 8px 12px;
        border: 1px solid #e5e7eb;
        border-radius: 4px;
        width: 200px;
    }
    
    .media-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 25px;
    }
    
    .stat-card {
        display: flex;
        align-items: center;
        padding: 15px;
        background-color: #f9fafb;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
    }
    
    .stat-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #4f46e5;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        font-size: 18px;
    }
    
    .stat-info h3 {
        margin: 0;
        font-size: 16px;
        color: #1f2937;
    }
    
    .stat-info p {
        margin: 5px 0 0 0;
        font-size: 14px;
        color: #6b7280;
    }
    
    .media-categories {
        margin-bottom: 20px;
    }
    
    .media-categories h3 {
        margin: 0 0 10px 0;
        font-size: 18px;
        color: #1f2937;
    }
    
    .category-tabs {
        display: flex;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 20px;
    }
    
    .category-tab {
        padding: 10px 15px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
    }
    
    .category-tab:hover {
        background-color: #f9fafb;
    }
    
    .category-tab.active {
        border-bottom-color: #4f46e5;
        color: #4f46e5;
        font-weight: 600;
    }
    
    .media-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }
    
    .media-item {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .media-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    .media-preview {
        height: 160px;
        position: relative;
        background-color: #f3f4f6;
        overflow: hidden;
    }
    
    .media-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .media-type {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    
    .play-button:hover {
        background-color: rgba(0, 0, 0, 0.7);
    }
    
    .audio-preview {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #4f46e5;
        position: relative;
    }
    
    .audio-waveform {
        display: flex;
        align-items: center;
        gap: 5px;
        height: 60px;
    }
    
    .waveform-bar {
        width: 4px;
        background-color: rgba(255, 255, 255, 0.7);
        border-radius: 2px;
        height: 100%;
        animation: waveform 1.5s infinite ease-in-out;
    }
    
    .waveform-bar:nth-child(1) { height: 60%; animation-delay: 0.1s; }
    .waveform-bar:nth-child(2) { height: 30%; animation-delay: 0.2s; }
    .waveform-bar:nth-child(3) { height: 75%; animation-delay: 0.3s; }
    .waveform-bar:nth-child(4) { height: 50%; animation-delay: 0.4s; }
    .waveform-bar:nth-child(5) { height: 80%; animation-delay: 0.5s; }
    .waveform-bar:nth-child(6) { height: 40%; animation-delay: 0.6s; }
    .waveform-bar:nth-child(7) { height: 65%; animation-delay: 0.7s; }
    .waveform-bar:nth-child(8) { height: 35%; animation-delay: 0.8s; }
    
    @keyframes waveform {
        0%, 100% { transform: scaleY(1); }
        50% { transform: scaleY(0.6); }
    }
    
    .media-info {
        padding: 15px;
    }
    
    .media-info h4 {
        margin: 0 0 5px 0;
        font-size: 16px;
        color: #1f2937;
    }
    
    .media-info p {
        margin: 0 0 10px 0;
        font-size: 12px;
        color: #6b7280;
    }
    
    .media-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 10px;
    }
    
    .tag {
        display: inline-block;
        padding: 2px 8px;
        background-color: #f3f4f6;
        border-radius: 4px;
        font-size: 12px;
        color: #4b5563;
    }
    
    .media-actions {
        display: flex;
        justify-content: flex-end;
        gap: 5px;
    }
    
    .media-pagination {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
    }
    
    .page-info {
        font-size: 14px;
        color: #6b7280;
    }
    
    @media (max-width: 768px) {
        .resources-header {
            flex-direction: column;
            gap: 10px;
        }
        
        .resources-actions {
            flex-wrap: wrap;
        }
        
        .resources-search {
            width: 100%;
        }
        
        .search-input {
            flex: 1;
        }
        
        .media-stats {
            grid-template-columns: repeat(2, 1fr);
        }
    }
</style> 