<div class="card">
    <div class="card-header">
        <h2>模板资源</h2>
    </div>
    <div class="card-body">
        <div class="resources-container">
            <div class="resources-header">
                <div class="resources-actions">
                    <button class="btn"><i class="fas fa-plus"></i> 上传模板</button>
                    <select class="resources-filter">
                        <option>全部类型</option>
                        <option>文档模板</option>
                        <option>表格模板</option>
                        <option>演示模板</option>
                        <option>设计模板</option>
                        <option>其他模板</option>
                    </select>
                </div>
                <div class="resources-search">
                    <input type="text" placeholder="搜索模板..." class="search-input">
                    <button class="btn btn-icon"><i class="fas fa-search"></i></button>
                </div>
            </div>
            
            <div class="templates-categories">
                <div class="category-tab active" data-category="all">全部模板</div>
                <div class="category-tab" data-category="document">文档模板</div>
                <div class="category-tab" data-category="spreadsheet">表格模板</div>
                <div class="category-tab" data-category="presentation">演示模板</div>
                <div class="category-tab" data-category="design">设计模板</div>
            </div>
            
            <div class="templates-grid">
                <div class="template-card" data-category="document">
                    <div class="template-preview">
                        <img src="assets/templates/doc-template-1.jpg" alt="员工手册模板">
                        <div class="template-type">文档模板</div>
                    </div>
                    <div class="template-info">
                        <h4>员工手册模板</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-word"></i> Word文档</span>
                            <span><i class="fas fa-download"></i> 125次下载</span>
                        </div>
                        <p>标准员工手册模板，包含公司规章制度、员工权益等内容。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
                
                <div class="template-card" data-category="spreadsheet">
                    <div class="template-preview">
                        <img src="assets/templates/excel-template-1.jpg" alt="库存管理表格">
                        <div class="template-type">表格模板</div>
                    </div>
                    <div class="template-info">
                        <h4>库存管理表格</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-excel"></i> Excel表格</span>
                            <span><i class="fas fa-download"></i> 210次下载</span>
                        </div>
                        <p>自动化库存管理表格，包含库存跟踪、预警和报表功能。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
                
                <div class="template-card" data-category="presentation">
                    <div class="template-preview">
                        <img src="assets/templates/ppt-template-1.jpg" alt="品牌介绍演示">
                        <div class="template-type">演示模板</div>
                    </div>
                    <div class="template-info">
                        <h4>品牌介绍演示</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-powerpoint"></i> PowerPoint</span>
                            <span><i class="fas fa-download"></i> 98次下载</span>
                        </div>
                        <p>专业品牌介绍演示模板，包含公司简介、产品展示等内容。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
                
                <div class="template-card" data-category="design">
                    <div class="template-preview">
                        <img src="assets/templates/design-template-1.jpg" alt="菜单设计模板">
                        <div class="template-type">设计模板</div>
                    </div>
                    <div class="template-info">
                        <h4>菜单设计模板</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-image"></i> PSD文件</span>
                            <span><i class="fas fa-download"></i> 156次下载</span>
                        </div>
                        <p>专业菜单设计模板，易于编辑，适合各类餐饮场所。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
                
                <div class="template-card" data-category="document">
                    <div class="template-preview">
                        <img src="assets/templates/doc-template-2.jpg" alt="合同模板">
                        <div class="template-type">文档模板</div>
                    </div>
                    <div class="template-info">
                        <h4>合同模板集</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-word"></i> Word文档</span>
                            <span><i class="fas fa-download"></i> 145次下载</span>
                        </div>
                        <p>包含多种常用合同模板，如劳动合同、采购合同等。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
                
                <div class="template-card" data-category="spreadsheet">
                    <div class="template-preview">
                        <img src="assets/templates/excel-template-2.jpg" alt="财务报表模板">
                        <div class="template-type">表格模板</div>
                    </div>
                    <div class="template-info">
                        <h4>财务报表模板</h4>
                        <div class="template-meta">
                            <span><i class="fas fa-file-excel"></i> Excel表格</span>
                            <span><i class="fas fa-download"></i> 178次下载</span>
                        </div>
                        <p>自动化财务报表模板，包含利润表、资产负债表等。</p>
                        <div class="template-actions">
                            <button class="btn btn-sm">使用模板</button>
                            <button class="btn btn-sm btn-outline">下载</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="templates-pagination">
                <button class="btn-icon small"><i class="fas fa-chevron-left"></i></button>
                <span class="page-info">第1页，共3页</span>
                <button class="btn-icon small"><i class="fas fa-chevron-right"></i></button>
            </div>
            
            <div class="recent-templates">
                <h3>最近使用的模板</h3>
                <div class="recent-list">
                    <div class="recent-item">
                        <div class="recent-preview">
                            <img src="assets/templates/excel-template-1.jpg" alt="库存管理表格">
                        </div>
                        <div class="recent-info">
                            <h4>库存管理表格</h4>
                            <p>最后使用: 2023-06-15</p>
                        </div>
                        <div class="recent-actions">
                            <button class="btn btn-sm">打开</button>
                        </div>
                    </div>
                    
                    <div class="recent-item">
                        <div class="recent-preview">
                            <img src="assets/templates/doc-template-1.jpg" alt="员工手册模板">
                        </div>
                        <div class="recent-info">
                            <h4>员工手册模板</h4>
                            <p>最后使用: 2023-06-10</p>
                        </div>
                        <div class="recent-actions">
                            <button class="btn btn-sm">打开</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // 当子模块加载完成后执行
    console.log('Resources Templates 子模块加载完成');
    
    // 为上传模板按钮添加事件
    document.querySelector('.resources-actions .btn').addEventListener('click', function() {
        console.log('点击上传模板按钮');
        alert('上传模板');
    });
    
    // 为类别标签添加事件
    document.querySelectorAll('.category-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            // 移除所有标签的active类
            document.querySelectorAll('.category-tab').forEach(t => {
                t.classList.remove('active');
            });
            
            // 为当前标签添加active类
            this.classList.add('active');
            
            const category = this.dataset.category;
            console.log('选择模板类别:', category);
            
            // 筛选模板
            if (category === 'all') {
                // 显示所有模板
                document.querySelectorAll('.template-card').forEach(card => {
                    card.style.display = 'block';
                });
            } else {
                // 只显示匹配类别的模板
                document.querySelectorAll('.template-card').forEach(card => {
                    if (card.dataset.category === category) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }
        });
    });
    
    // 为使用模板按钮添加事件
    document.querySelectorAll('.template-actions .btn:first-child').forEach(btn => {
        btn.addEventListener('click', function() {
            const templateCard = this.closest('.template-card');
            const templateName = templateCard.querySelector('h4').textContent;
            console.log('使用模板:', templateName);
            alert('使用模板: ' + templateName);
        });
    });
    
    // 为下载按钮添加事件
    document.querySelectorAll('.template-actions .btn-outline').forEach(btn => {
        btn.addEventListener('click', function() {
            const templateCard = this.closest('.template-card');
            const templateName = templateCard.querySelector('h4').textContent;
            console.log('下载模板:', templateName);
            alert('下载模板: ' + templateName);
        });
    });
    
    // 为最近使用的模板打开按钮添加事件
    document.querySelectorAll('.recent-actions .btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const recentItem = this.closest('.recent-item');
            const templateName = recentItem.querySelector('h4').textContent;
            console.log('打开最近使用的模板:', templateName);
            alert('打开模板: ' + templateName);
        });
    });
    
    // 为搜索按钮添加事件
    document.querySelector('.resources-search .btn-icon').addEventListener('click', function() {
        const searchInput = document.querySelector('.resources-search .search-input');
        const searchTerm = searchInput.value.trim().toLowerCase();
        
        if (searchTerm) {
            console.log('搜索模板:', searchTerm);
            
            // 搜索模板
            document.querySelectorAll('.template-card').forEach(card => {
                const title = card.querySelector('h4').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();
                const type = card.querySelector('.template-type').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || description.includes(searchTerm) || type.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // 重置类别标签
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector('.category-tab[data-category="all"]').classList.add('active');
        } else {
            // 如果搜索词为空，显示所有模板
            document.querySelectorAll('.template-card').forEach(card => {
                card.style.display = 'block';
            });
            alert('请输入搜索关键词');
        }
    });
    
    // 为搜索输入框添加回车事件
    document.querySelector('.resources-search .search-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            document.querySelector('.resources-search .btn-icon').click();
        }
    });
</script>

<style>
    .resources-container {
        padding: 0;
    }
    
    .resources-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    
    .resources-actions {
        display: flex;
        gap: 10px;
    }
    
    .resources-search {
        display: flex;
        gap: 5px;
    }
    
    .search-input {
        padding: 8px 12px;
        border: 1px solid #e5e7eb;
        border-radius: 4px;
        width: 200px;
    }
    
    .templates-categories {
        display: flex;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 20px;
    }
    
    .category-tab {
        padding: 10px 15px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
    }
    
    .category-tab:hover {
        background-color: #f9fafb;
    }
    
    .category-tab.active {
        border-bottom-color: #4f46e5;
        color: #4f46e5;
        font-weight: 600;
    }
    
    .templates-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }
    
    .template-card {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        overflow: hidden;
        background-color: white;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .template-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    .template-preview {
        height: 160px;
        position: relative;
        overflow: hidden;
    }
    
    .template-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .template-type {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: rgba(79, 70, 229, 0.9);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: 500;
    }
    
    .template-info {
        padding: 15px;
    }
    
    .template-info h4 {
        margin: 0 0 10px 0;
        font-size: 16px;
        color: #1f2937;
    }
    
    .template-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-size: 12px;
        color: #6b7280;
    }
    
    .template-meta span {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .template-info p {
        margin: 0 0 15px 0;
        font-size: 14px;
        color: #6b7280;
        line-height: 1.5;
    }
    
    .template-actions {
        display: flex;
        justify-content: space-between;
    }
    
    .templates-pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 30px;
    }
    
    .page-info {
        margin: 0 10px;
        color: #6b7280;
    }
    
    .recent-templates {
        margin-top: 30px;
    }
    
    .recent-templates h3 {
        margin: 0 0 15px 0;
        font-size: 18px;
        color: #1f2937;
    }
    
    .recent-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .recent-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        background-color: white;
    }
    
    .recent-preview {
        width: 60px;
        height: 60px;
        overflow: hidden;
        border-radius: 4px;
        margin-right: 15px;
    }
    
    .recent-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .recent-info {
        flex: 1;
    }
    
    .recent-info h4 {
        margin: 0 0 5px 0;
        font-size: 16px;
        color: #1f2937;
    }
    
    .recent-info p {
        margin: 0;
        font-size: 12px;
        color: #6b7280;
    }
    
    @media (max-width: 768px) {
        .resources-header {
            flex-direction: column;
            gap: 10px;
        }
        
        .resources-search {
            width: 100%;
        }
        
        .search-input {
            flex: 1;
        }
        
        .templates-categories {
            overflow-x: auto;
            white-space: nowrap;
            padding-bottom: 5px;
        }
        
        .recent-item {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .recent-preview {
            width: 100%;
            height: 120px;
            margin-right: 0;
            margin-bottom: 10px;
        }
        
        .recent-info {
            margin-bottom: 10px;
        }
    }
</style> 