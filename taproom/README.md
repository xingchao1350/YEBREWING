# 野鹅微醺门店管理系统

这是一个现代化的门店管理系统前端模板，专为野鹅微醺品牌设计。本系统使用中文界面，提供全面的门店管理功能。

## 系统功能概述

系统包含以下主要模块：

1. **门店总览**：实时数据展示、排班安排和活动日历
2. **库存管理**：生啤库存、易拉罐库存、其他酒水库存、软饮库存和物料库存
3. **财务管理**：收入统计、支出管理、财务报表和预算规划
4. **工具模块**：酒单设计、餐单设计、卡片设计、海报设计和其他工具
5. **资源中心**：门店档案、培训材料、品牌文档和行业资料
6. **系统设置**：基本设置、角色管理、用户管理、安全设置和通知设置

## 技术特点

- 响应式设计，适配各种设备尺寸
- 现代化UI界面，符合当前设计趋势
- 模块化代码结构，易于扩展和维护
- 基于原生HTML/CSS/JavaScript开发，无需复杂依赖
- 集成Supabase身份验证，实现安全登录
- 标签页式内容组织，提高用户体验
- 统一的设计语言和组件库
- 动态模块加载系统，按需加载内容

## 文件结构

```
├── index.html          # 主页面，包含门店总览、库存、财务、工具和资源模块
├── login.html          # 登录页面
├── settings.html       # 系统设置页面
├── roles.html          # 角色管理页面
├── styles.css          # 主样式文件
├── css/                # CSS文件夹
│   ├── login.css       # 登录页面样式
│   └── roles.css       # 角色管理页面样式
├── js/                 # JavaScript文件夹
│   ├── main.js         # 主JavaScript文件
│   ├── module-loader.js # 模块加载器
│   ├── login.js        # 登录页面JavaScript
│   └── api.js          # API接口封装
├── modules/            # 模块文件夹
│   ├── dashboard.html  # 门店总览模块
│   ├── inventory.html  # 库存管理模块
│   ├── finance.html    # 财务管理模块
│   ├── tools.html      # 工具模块
│   ├── resources.html  # 资源中心模块
│   ├── dashboard/      # 门店总览子模块
│   ├── inventory/      # 库存管理子模块
│   ├── finance/        # 财务管理子模块
│   ├── tools/          # 工具子模块
│   └── resources/      # 资源中心子模块
└── assets/             # 资源文件夹（图片、图标等）
    ├── logo.png        # 品牌logo
    └── avatar.png      # 用户头像
```

## 模块加载系统

系统采用了动态模块加载架构，通过`module-loader.js`实现按需加载模块和子模块，提高了系统性能和用户体验。

### 核心功能

- **模块动态加载**：根据用户点击导航链接，动态加载对应模块内容
- **子模块按需加载**：模块内的标签页内容按需加载，减少初始加载时间
- **标签页系统**：支持模块内的标签页切换和子模块内的分类标签切换
- **错误处理**：完善的错误处理机制，提供友好的错误提示
- **调试日志**：详细的调试日志，方便开发和排错

### 使用方法

1. **加载主模块**：

```javascript
// 加载门店总览模块
moduleLoader.loadModule('dashboard');
```

2. **加载子模块**：

```javascript
// 加载门店总览模块下的总览数据子模块
moduleLoader.loadSubModule('dashboard/overview.html', container);
```

3. **指定默认子模块**：

在模块HTML中，可以通过`data-default-submodule`属性指定默认加载的子模块：

```html
<div id="overview" class="tab-pane active" data-default-submodule="dashboard/overview.html">
    <!-- 内容将通过模块加载器动态加载 -->
</div>
```

### 最近更新与改进

- **修复了标签页切换问题**：解决了除第一个标签页外其他标签页无法点击的问题
- **改进了默认子模块加载**：通过`data-default-submodule`属性指定默认子模块，确保首次加载时自动加载默认内容
- **增强了错误处理**：添加了更多的错误检查和友好的错误提示
- **优化了加载流程**：改进了模块和子模块的加载逻辑，提高了加载速度和稳定性
- **添加了调试日志**：增加了详细的调试日志，方便开发和排错

## 使用指南

### 安装与部署

1. 克隆或下载本项目
2. 将文件部署到Web服务器或直接在本地打开
3. 访问login.html进行登录
4. 使用管理员提供的邮箱和密码登录系统

### 功能导航

- **侧边栏导航**：通过侧边栏可以快速切换不同的功能模块
- **标签页导航**：每个主要模块内部使用标签页组织内容
- **用户信息**：侧边栏底部显示当前登录用户信息和通知
- **设置入口**：通过侧边栏的设置图标进入系统设置

## 开发指南

### 添加新页面

1. 创建新的HTML文件，参考现有页面的结构
2. 在CSS中添加相应的样式
3. 在JavaScript中添加交互逻辑
4. 更新导航链接

### 添加新模块

1. 在`modules`目录中创建新的模块HTML文件
2. 添加相应的标签页结构和内容
3. 在侧边栏导航中添加链接，设置`data-module`属性
4. 在`MODULE_CONFIG`中添加新模块的配置

### 添加新子模块

1. 在`modules/[模块名]`目录中创建新的子模块HTML文件
2. 在主模块的标签页中添加对应的标签项和内容容器
3. 设置`data-default-submodule`属性（如果需要作为默认子模块）

### 自定义主题

可以通过修改styles.css文件开头的CSS变量来自定义主题颜色：

```css
:root {
    --primary-color: #6366F1;  /* 主色调 */
    --secondary-color: #4F46E5; /* 次要色调 */
    --success-color: #10B981;  /* 成功色 */
    --warning-color: #F59E0B;  /* 警告色 */
    --danger-color: #EF4444;   /* 危险色 */
    /* 其他颜色变量 */
}
```

### 身份验证配置

系统使用Supabase进行身份验证，配置信息位于main.js文件中：

```javascript
const SUPABASE_URL = 'https://rrckxifdelcqnibwoxsx.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...';
```

## 后续开发计划

- [ ] 集成图表库（Chart.js或ECharts）实现数据可视化
- [ ] 添加数据表格组件，支持排序和筛选
- [ ] 实现表单验证功能
- [ ] 完善用户权限管理
- [ ] 添加数据导入/导出功能
- [ ] 实现多语言支持
- [ ] 集成后端API
- [ ] 优化模块加载性能
- [ ] 添加模块预加载功能
- [ ] 实现模块缓存机制

## 技术栈升级建议

为了使项目更加现代化和易于维护，建议考虑以下技术栈升级：

1. 使用Vue.js或React等前端框架重构
2. 添加状态管理（Vuex/Redux）
3. 使用TypeScript增强类型安全
4. 采用Sass/Less等CSS预处理器
5. 使用Webpack/Vite等构建工具
6. 实现组件化开发
7. 添加单元测试和端到端测试

## 贡献指南

欢迎提交Pull Request或Issue来改进这个项目！

## 许可证

MIT 